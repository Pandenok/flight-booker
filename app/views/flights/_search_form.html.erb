<%= form_with(url: "/flights", method: "get", local: true) do %>
  <% @airport_options = Airport.all.map { |airport| [airport.code, airport.id] } %>
  <% @year_options = Flight.all.map { |flight| flight.scheduled_on.year }.uniq %>
  <% @month_options = Flight.all.map { |flight| flight.scheduled_on.month }.uniq %>
  <% @day_options = Flight.all.map { |flight| flight.scheduled_on.day }.uniq %>

  <%= select_tag(:from_airport_id, options_for_select(@airport_options), { prompt: 'From?' }) %>
  <%= select_tag(:to_airport_id, options_for_select(@airport_options), { prompt: 'To?' }) %>
  <%= select_tag(:pax, options_for_select([['1', 1], ['2', 2], ['3', 3], ['4', 3]]), { prompt: 'Number of passengers' }) %>
  <%= select_tag(:day, options_for_select(@day_options)) %>
  <%= select_tag(:month, options_for_select(@month_options)) %>
  <%= select_tag(:year, options_for_select(@year_options)) %>
  
  <%= submit_tag("Search flights") %>
<% end %>